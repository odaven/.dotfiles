#!/usr/bin/env zsh

set -euo pipefail

case "$1" in
  clean)
    rm -rf "$HOME/.local/share/nvim" "$HOME/.local/state/nvim" "$HOME/.cache/nvim" "$HOME/.config/nvim"
    ;;

  dev)
    local src="$HOME/Dev/nvim"
    local dest="$HOME/.config/nvim"
    [[ -e $dest || -L $dest ]] && rm -rf $dest
    ln -sv $src $dest
    ;;

  dot)
    dot-config nvim 
    git -C "$HOME/.dotfiles" submodule update --init --recursive --remote --force
    ;;

  *)
    echo "Invalid parameter. Valid options are: clean, dev, dot"
    ;;
esac
